<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Investment pitches by Soham A. Bhatia - Kelley School of Business student" />
  <meta name="theme-color" content="#000000" />
  <title>Pitches | Soham A. Bhatia</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="dns-prefetch" href="https://docs.google.com" />
  <link rel="dns-prefetch" href="https://raw.githubusercontent.com" />
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />

  <style>
    /* PAGE-SPECIFIC STYLES - pitches.html */

    /* PITCH ITEMS */
    .pitch-container { display: flex; flex-direction: column; gap: 0.5rem; }

    .pitch-item {
      border: 1px solid transparent;
      border-radius: 4px;
      transition: all 0.2s ease;
    }

    .pitch-item:hover {
      border-color: var(--border);
      background: var(--bg-hover);
    }

    .pitch-header {
      padding: 1.2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
    }

    .pitch-info { display: flex; align-items: baseline; }
    .ticker { font-weight: 700; color: var(--text); margin-right: 12px; font-size: 1.1rem; }
    .company { color: var(--muted); font-size: 0.9rem; }
    
    .view-btn { color: var(--muted); font-size: 0.8rem; }

    /* VIEWER */
    .pitch-content {
      display: none;
      border-top: 1px solid var(--border);
      background: var(--bg-card);
      padding: 0 1rem 1rem 1rem;
    }

    .pitch-item.open {
      background: var(--bg-card);
      border-color: var(--border);
    }

    .pitch-item.open .pitch-content { display: block; }

    .iframe-container { margin-top: 1rem; }
    iframe { width: 100%; height: 600px; border: 1px solid var(--border); background: var(--bg-input); }
    
    .download-link {
      display: block;
      text-align: right;
      margin-top: 8px;
      font-size: 0.8rem;
      color: var(--muted);
      text-decoration: none;
    }
    .download-link:hover { color: var(--text); }
  </style>
</head>

<body>
  <nav>
    <div class="nav-links">
      <a href="index.html">home</a>
      <a href="models.html">models</a>
      <a href="pitches.html" class="active">pitches</a>
    </div>

    <div class="nav-links">
      <a href="https://www.linkedin.com/in/sohambhatia06" target="_blank">linkedin</a>
      <a href="https://github.com/SohamBhatia2006" target="_blank">github</a>
      <a href="https://x.com/SohamBhatia2" target="_blank">twitter</a>
    </div>
  </nav>

  <main>
    <h1>Investment Pitches</h1>

    <div class="pitch-container">
      
      <div class="pitch-item"
           onclick="togglePitch(this)"
           onkeydown="if(event.key==='Enter' || event.key===' '){event.preventDefault();togglePitch(this);}"
           tabindex="0"
           role="button"
           aria-expanded="false"
           data-pdf="https://github.com/SohamBhatia2006/pitches/raw/main/VZ%20-%20Verizon%20Communications.pdf">
        
        <div class="pitch-header">
          <div class="pitch-info">
            <span class="ticker">VZ</span>
            <span class="company">Verizon Communications (Long)</span>
          </div>
          <span class="view-btn">[+] View Deck</span>
        </div>

        <div class="pitch-content" onclick="event.stopPropagation()">
          <div class="iframe-container"></div>
          <a href="https://github.com/SohamBhatia2006/pitches/raw/main/VZ%20-%20Verizon%20Communications.pdf" target="_blank" class="download-link">Download PDF</a>
        </div>
      </div>

    </div>
  </main>

  <script>
    function togglePitch(item) {
      const isOpen = item.classList.contains('open');
      const container = item.querySelector('.iframe-container');
      const pdfUrl = item.getAttribute('data-pdf');
      const viewBtn = item.querySelector('.view-btn');

      // Close all other pitches
      document.querySelectorAll('.pitch-item.open').forEach(openItem => {
        if (openItem !== item) {
          openItem.classList.remove('open');
          openItem.setAttribute('aria-expanded', 'false');
          openItem.querySelector('.iframe-container').innerHTML = '';
          openItem.querySelector('.view-btn').innerText = '[+] View Deck';
        }
      });

      // Toggle current pitch
      if (!isOpen) {
        item.classList.add('open');
        item.setAttribute('aria-expanded', 'true');
        viewBtn.innerText = '[-] Close Deck';

        // Show loading indicator
        container.innerHTML = '<div class="loading-text" style="padding: 2rem; text-align: center;">Loading PDF viewer...</div>';

        // Load iframe with slight delay
        setTimeout(() => {
          container.innerHTML = `<iframe
            src="https://docs.google.com/viewer?url=${encodeURIComponent(pdfUrl)}&embedded=true"
            title="Investment pitch PDF viewer"
            loading="lazy"
          ></iframe>`;
        }, 100);
      } else {
        item.classList.remove('open');
        item.setAttribute('aria-expanded', 'false');
        container.innerHTML = '';
        viewBtn.innerText = '[+] View Deck';
      }
    }
  </script>
</body>
</html>